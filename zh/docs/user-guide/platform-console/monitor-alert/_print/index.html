<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><link rel=canonical type=text/html href=/web/zh/docs/user-guide/platform-console/monitor-alert/><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/web/favicons/favicon.ico><link rel=apple-touch-icon href=/web/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/web/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/web/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/web/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/web/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/web/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/web/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/web/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/web/favicons/android-192x192.png sizes=192x192><title>监控&告警 | Tkestack</title><meta name=description content="生产级别多集群管理系统"><meta property="og:title" content="监控&告警"><meta property="og:description" content="监控&告警
"><meta property="og:type" content="website"><meta property="og:url" content="/web/zh/docs/user-guide/platform-console/monitor-alert/"><meta property="og:site_name" content="Tkestack"><meta itemprop=name content="监控&告警"><meta itemprop=description content="监控&告警
"><meta name=twitter:card content="summary"><meta name=twitter:title content="监控&告警"><meta name=twitter:description content="监控&告警
"><link rel=preload href=/web/scss/main.min.f3f5e11928ea652eef8f11ab959efa477bbd1a85923ff5e0245c83fe74bd312a.css as=style><link href=/web/scss/main.min.f3f5e11928ea652eef8f11ab959efa477bbd1a85923ff5e0245c83fe74bd312a.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/web/zh/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Tkestack</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/web/zh/docs/><span>Docs</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/web/zh/blog/><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文 Chinese</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/web/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.</p><p><a href=/web/zh/docs/user-guide/platform-console/monitor-alert/>返回本页常规视图</a>.</p></div><h1 class=title>监控&告警</h1><div class=lead>监控&告警</div><ul><li>1: <a href=#pg-23a8b7f582c270bcb790b3707905d346>告警记录</a></li><li>2: <a href=#pg-c677185f730a103f7429f6161d3c5546>通知设置</a></li><li>3: <a href=#pg-0a1a33c9e3221ae15fbb22a45f0ce01a>告警设置</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-23a8b7f582c270bcb790b3707905d346>1 - 告警记录</h1><div class=lead>告警记录</div><h3 id=概念>概念</h3><p><strong>这里可以查看历史告警记录</strong></p><h3 id=查看历史告警记录>查看历史告警记录</h3><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【告警记录】查看“历史告警记录”列表，如下图所示：</li></ul><p><img src=https://github.com/tkestack/tke/raw/master/docs/images/%E5%91%8A%E8%AD%A6%E8%AE%B0%E5%BD%95.png alt=&#x5220;&#x9664;&#x63A5;&#x6536;&#x7EC4;></p></div><div class=td-content style=page-break-before:always><h1 id=pg-c677185f730a103f7429f6161d3c5546>2 - 通知设置</h1><div class=lead>通知设置</div><h2 id=通知设置>通知设置</h2><h3 id=概念>概念</h3><p><strong>这里用户配置平台通知</strong></p><h3 id=通知渠道>通知渠道</h3><h4 id=新建通知渠道>新建通知渠道</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【通知渠道】，查看“通知渠道”列表</li><li>点击【新建】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2826%29.png alt></p><ul><li>在“新建通知渠道”页面填写渠道信息，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2889%29.png alt></p><ul><li><strong>名称：</strong> 填写渠道名称</li><li><strong>渠道：</strong> 选择渠道类型，输入渠道信息<ul><li><strong>邮件：</strong> 邮件类型<ul><li><strong>email：</strong> 邮件发送放地址</li><li><strong>password：</strong> 邮件发送方密码</li><li><strong>smtpHost：</strong> smtp IP 地址</li><li><strong>smtpPort：</strong> smtp 端口</li><li><strong>tls：</strong> 是否使用tls加密</li></ul></li><li><strong>短信：</strong> 短信方式<ul><li><strong>appKey：</strong> 短信发送方的 appKey</li><li><strong>sdkAppID：</strong> sdkAppID</li><li><strong>extend：</strong> extend 信息</li></ul></li><li><strong>微信公众号：</strong> 微信公众号方式<ul><li><strong>appID：</strong> 微信公众号 appID</li><li><strong>appSecret：</strong> 微信公众号 appSecret</li></ul></li><li><strong>Webhook：</strong> Webhook 方式<ul><li><strong>URL</strong>：Webhook 的 URL</li><li><strong>Headers：</strong> 自定义 Header</li></ul></li></ul></li><li>单击【保存】按钮</li></ul><h4 id=编辑通知渠道>编辑通知渠道</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【通知渠道】，查看“通知渠道”列表</li><li>单击渠道名称，如下图所示：</li></ul><p><img src=../../../../../images/image%20%28120%29.png alt></p><ul><li>在“基本信息”页面，单击【基本信息】右侧的【编辑】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2891%29.png alt></p><ul><li>在“更新渠道通知”页面，编辑渠道信息</li><li>单击【保存】按钮</li></ul><h4 id=删除通知渠道>删除通知渠道</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【通知渠道】，查看“通知渠道”列表</li><li>选择要删除的渠道，点击【删除】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2813%29.png alt></p><ul><li>单击删除窗口的【确定】按钮</li></ul><h3 id=通知模板>通知模板</h3><h4 id=新建通知模版>新建通知模版</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【通知模板】，查看“通知模板”列表</li><li>点击【新建】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%285%29.png alt></p><ul><li>在“新建通知模版”页面填写模版信息，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2837%29.png alt></p><ul><li><strong>名称：</strong> 模版名称</li><li><strong>渠道：</strong> 选择已创建的渠道</li><li><strong>body：</strong> 填写消息 body</li><li><strong>header：</strong> 填写消息 header</li><li>单击【保存】按钮</li></ul><h4 id=编辑通知模版>编辑通知模版</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【通知模板】，查看“通知模板”列表</li><li>单击模版名称，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2835%29.png alt></p><ul><li>在基本信息页面，单击【基本信息】右侧的【编辑】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%28116%29.png alt></p><ul><li>在“更新通知模版”页面，编辑模版信息</li><li>单击【保存】按钮</li></ul><h4 id=删除通知模版>删除通知模版</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【通知模板】，查看"通知模板"列表</li><li>选择要删除的模版，点击【删除】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%288%29.png alt></p><ul><li>单击删除窗口的【确定】按钮</li></ul><h3 id=接收人>接收人</h3><h4 id=新建接收人>新建接收人</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【接收人】，查看"接收人"列表</li><li>点击【新建】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2816%29.png alt></p><ul><li>在“新建接收人”页面填写模版信息，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2876%29.png alt></p><ul><li><strong>显示名称：</strong> 接收人显示名称</li><li><strong>用户名：</strong> 接收人用户名</li><li><strong>移动电话：</strong> 手机号</li><li><strong>电子邮件：</strong> 接收人邮箱</li><li><strong>微信OpenID：</strong> 接收人微信ID</li><li>单击【保存】按钮</li></ul><h4 id=编辑接收人信息>编辑接收人信息</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【接收人】，查看“接收人”列表</li><li>单击接收人名称，如下图所示：</li></ul><p><img src=../../../../../images/image%20%28121%29.png alt></p><ul><li>在“基本信息”页面，单击【基本信息】右侧的【编辑】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2810%29.png alt></p><ul><li>在“更新接收人”页面，编辑接收人信息</li><li>单击【保存】按钮</li></ul><h4 id=删除接收人>删除接收人</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【接收人】，查看“接收人”列表</li><li>选择要删除的接收人，点击【删除】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2875%29.png alt></p><ul><li>单击删除窗口的【确定】按钮</li></ul><h3 id=接收组>接收组</h3><h4 id=新建接收组>新建接收组</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【接收组】，查看“接收组”列表</li><li>点击【新建】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%28131%29.png alt></p><ul><li>在“新建接收组”页面填写模版信息，如下图所示：</li></ul><p><img src=../../../../../images/image%20%28111%29.png alt></p><ul><li><strong>名称：</strong> 接收组显示名称</li><li><strong>接收组：</strong> 从列表里选择接收人。如没有想要的接收人，请在<a href>接收人</a>里创建</li><li>单击【保存】按钮</li></ul><h4 id=编辑接收组信息>编辑接收组信息</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【接收组】，查看“接收组”列表</li><li>单击接收组名称，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2856%29.png alt></p><ul><li>在“基本信息”页面，单击【基本信息】右侧的【编辑】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%28107%29.png alt></p><ul><li>在“更新接收组”页面，编辑接收组信息</li><li>单击【保存】按钮</li></ul><h4 id=删除接收组>删除接收组</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】->【通知设置】->【接收组】，查看“接收组”列表</li><li>选择要删除的接收组，点击【删除】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2842%29.png alt></p><ul><li>单击删除窗口的【确定】按钮</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-0a1a33c9e3221ae15fbb22a45f0ce01a>3 - 告警设置</h1><div class=lead>告警设置</div><h2 id=告警设置>告警设置</h2><h3 id=概念>概念</h3><p><strong>这里用户配置平台告警</strong></p><h3 id=前提条件>前提条件</h3><blockquote><p>需要设置告警的集群应该先在其 <a href=https://github.com/tkestack/tke/blob/master/docs/guide/zh-CN/products/platform/cluster.md#%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF>基本信息</a> 页里开启<strong>监控告警</strong></p></blockquote><h3 id=新建告警设置>新建告警设置</h3><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】下的【告警设置】，查看“告警设置”列表</li><li>选择相应【集群】，点击【新建】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%28110%29.png alt></p><ul><li>在“新建策略”页面填写告警策略信息，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2822%29.png alt></p><ul><li><strong>告警策略名称：</strong> 输入告警策略名称，最长60字符</li><li><strong>策略类型：</strong> 选择告警策略应用类型<ul><li><strong>集群：</strong> 集群监控告警</li><li><strong>Pod：</strong> Pod 监控告警<ul><li><strong>告警对象：</strong> 选择 Pod 相关的告警对象，支持对 namespace 下不同的 deployment、stateful和daemonset 进行监控报警<ul><li><strong>按工作负载选择：</strong> 选择 namespace 下的某个工作负载</li><li><strong>全部选择：</strong> 不区分 namespace，全部监控</li></ul></li></ul></li><li><strong>节点：</strong> 节点监控告警</li></ul></li><li><strong>统计周期：</strong> 选择数据采集周期，支持1、2、3、4、5分钟</li><li><strong>指标：</strong> 选择告警指标，支持对监测值与指标值进行【大于/小于】比较，选择结果持续周期，如下图。指标具体含义可参考：[监控&告警指标含义](../../../../FAQ/Platform/alert&monitor-metrics）</li></ul><p><img src=../../../../../images/image%20%2885%29.png alt></p><ul><li><strong>接收组：</strong> 选择接收组，当出现满足条件当报警信息时，向组内人员发送消息。<strong>接收组需要先在</strong> <a href=https://github.com/tkestack/tke/blob/master/docs/guide/zh-CN/products/platform/accessmanagement/user.md#%E7%94%A8%E6%88%B7%E7%BB%84><strong>用户管理</strong></a> <strong>创建</strong></li><li><strong>通知方式：</strong> 选择通知渠道和消息模版。<strong>通知渠道 和 消息模版需要先在</strong> <a href=https://github.com/tkestack/tke/blob/master/docs/guide/zh-CN/products/platform/monitor%26alert/notification.md><strong>通知设置</strong></a> <strong>创建</strong><ul><li><strong>添加通知方式</strong> ：如需要添加多种通知方式，点击该按钮</li></ul></li><li>单击【提交】按钮</li></ul><h4 id=复制告警设置>复制告警设置</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】下的【告警设置】，查看“告警设置”列表</li><li>选择相应【集群】，点击告警设置列表最右侧的【复制】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%28138%29.png alt></p><ul><li>在“复制策略”页面，编辑告警策略信息</li><li>单击【提交】按钮</li></ul><h4 id=编辑告警设置>编辑告警设置</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】下的【告警设置】，查看“告警设置”列表</li><li>选择相应【集群】，点击【告警名称】，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2827%29.png alt></p><ul><li>在“告警策略详情”页面，单击【基本信息】右侧的【编辑】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%28115%29.png alt></p><ul><li>在“更新策略”页面，编辑策略信息</li><li>单击【提交】按钮</li></ul><h4 id=删除告警设置>删除告警设置</h4><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】下的【告警设置】，查看“告警设置”列表</li><li>选择相应【集群】，点击列表最右侧的【删除】按钮，如下图所示：</li></ul><p><img src=../../../../../images/image%20%2854%29.png alt></p><ul><li>在弹出的删除告警窗口，单击【确定】按钮</li></ul><h3 id=批量删除告警设置>批量删除告警设置</h3><ul><li>登录 TKEStack</li><li>切换至【平台管理】控制台，选择 【监控&告警】下的【告警设置】，查看“告警设置”列表</li><li>选择相应【集群】，选择多个告警策略，单击告警设置下方的【删除】按钮。如下图所示：</li></ul><p><img src=../../../../../images/image%20%2895%29.png alt></p><ul><li>在弹出的删除告警窗口，单击【确定】按钮</li></ul></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/tkestack/tke aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The TKEStack Authors All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/web/js/main.min.1911ee3ae98d7d6df3807cd00d8e31ae7d1c08ee0f0bb587529b0483da4e5464.js integrity="sha256-GRHuOumNfW3zgHzQDY4xrn0cCO4PC7WHUpsEg9pOVGQ=" crossorigin=anonymous></script></body></html>